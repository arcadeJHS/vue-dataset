(function(c,v){typeof exports=="object"&&typeof module<"u"?module.exports=v():typeof define=="function"&&define.amd?define(v):(c=typeof globalThis<"u"?globalThis:c||self,c.Dataset=v())})(this,function(){"use strict";const c={show:"Show",entries:"entries",previous:"Previous",next:"Next",showing:"Showing",showingTo:"to",showingOf:"of",showingEntries:"entries"};var v="...";function g(e){for(var t in e)return!1;return!0}function w(e,t){var u=2,n=[],s=[],a;if(n.push(1),e<=1)return n;for(var i=t-u;i<=t+u;i++)i<e&&i>1&&n.push(i);n.push(e);for(var r=0;r<n.length;r++)a&&(n[r]-a===2?s.push(a+1):n[r]-a!==1&&s.push(v)),s.push(n[r]),a=n[r];return s}function m(e,t){t===void 0&&(t={});var u=[],n,s=e.length;return e=e.map(function(a,i){return a[0]==="-"?(u[i]=-1,a=a.substring(1)):u[i]=1,a}),function(a,i){for(n=0;n<s;n++){var r=e[n],o=t[r]?t[r](a.value[r]):a.value[r],d=t[r]?t[r](i.value[r]):i.value[r];if(o>d)return u[n];if(o<d)return-u[n]}return 0}}function S(e,t){var u=function(s){e=e.filter(function(a){var i=a.value;for(var r in i)if(r===s){if(typeof t[s]=="function")return t[s](i[r]);if(t[s]===""||i[r]===t[s])return!0}return!1})};for(var n in t)u(n);return e}function P(e,t,u,n){n=String(n).toLowerCase();for(var s in u)if(e.length===0||e.indexOf(s)!==-1){var a=String(u[s]).toLowerCase();for(var i in t)if(i===s&&typeof t[i]=="function"){var r=t[i](a,n,u);if(r===!0)return r}if(a.indexOf(n)>=0)return!0}return!1}var R=function(){var e=this,t=e.$createElement,u=e._self._c||t;return u("div",[e._t("default",null,{ds:{dsIndexes:e.indexes,dsShowEntries:e.dsShowEntries,dsResultsNumber:e.dsResultsNumber,dsPage:e.dsPage,dsPagecount:e.dsPagecount,dsFrom:e.dsFrom,dsTo:e.dsTo,dsData:e.dsData,dsRows:e.dsRows,dsPages:e.dsPages,search:e.search,showEntries:e.showEntries,setActive:e.setActive}})],2)},E=[];function b(e,t,u,n,s,a,i,r){var o=typeof e=="function"?e.options:e;t&&(o.render=t,o.staticRenderFns=u,o._compiled=!0),n&&(o.functional=!0),a&&(o._scopeId="data-v-"+a);var d;if(i?(d=function(h){h=h||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!h&&typeof __VUE_SSR_CONTEXT__<"u"&&(h=__VUE_SSR_CONTEXT__),s&&s.call(this,h),h&&h._registeredComponents&&h._registeredComponents.add(i)},o._ssrRegister=d):s&&(d=r?function(){s.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:s),d)if(o.functional){o._injectStyles=d;var l=o.render;o.render=function(F,_){return d.call(_),l(F,_)}}else{var f=o.beforeCreate;o.beforeCreate=f?[].concat(f,d):[d]}return{exports:e,options:o}}var C={provide:function(){var t=this;return{search:this.search,showEntries:this.showEntries,setActive:this.setActive,datasetI18n:this.datasetI18n,rdsIndexes:function(){return t.indexes},rdsData:function(){return t.dsData},rdsRows:function(){return t.dsRows},rdsPages:function(){return t.dsPages},rdsResultsNumber:function(){return t.dsResultsNumber},rdsPagecount:function(){return t.dsPagecount},rdsFrom:function(){return t.dsFrom},rdsTo:function(){return t.dsTo},rdsPage:function(){return t.dsPage}}},props:{dsData:{type:Array,default:function(){return[]}},dsFilterFields:{type:Object,default:function(){return{}}},dsSortby:{type:Array,default:function(){return[]}},dsSearchIn:{type:Array,default:function(){return[]}},dsSearchAs:{type:Object,default:function(){return{}}},dsSortAs:{type:Object,default:function(){return{}}}},data:function(){return{dsPage:1,dsSearch:"",dsShowEntries:10,datasetI18n:c,indexes:[]}},computed:{whenChanged:function(){return this.dsData,this.dsSearch,this.dsSortby,this.dsFilterFields,this.dsSearchIn,this.dsSearchAs,this.dsSortAs,Date.now()},dsRows:function(){return this.indexes.slice(this.dsFrom,this.dsTo)},dsPages:function(){return w(this.dsPagecount,this.dsPage)},dsResultsNumber:function(){return this.indexes.length},dsPagecount:function(){return Math.ceil(this.dsResultsNumber/this.dsShowEntries)},dsFrom:function(){return(this.dsPage-1)*this.dsShowEntries},dsTo:function(){return this.dsPage*this.dsShowEntries}},watch:{dsResultsNumber:{handler:function(t,u){this.setActive(1)}},whenChanged:{handler:function(t,u){var n=[],s=this.dsData,a=this.dsSearch,i=this.dsSortby,r=this.dsFilterFields,o=this.dsSearchIn,d=this.dsSearchAs,l=this.dsSortAs;!a&&!i.length&&g(r)?n=s.map(function(f,h){return h}):(n=s.map(function(f,h){return{index:h,value:f}}),g(r)||(n=S(n,r)),a&&(n=n.filter(function(f){return P(o,d,f.value,a)})),i.length&&n.sort(m(i,l)),n=n.map(function(f){return f.index})),this.indexes=n},immediate:!0}},methods:{search:function(t){this.dsSearch=t},showEntries:function(t){var u=this,n=this.dsPages;this.dsShowEntries=t,this.$nextTick(function(){var s=u.dsPages;s.length<n.length&&u.setActive(s[s.length-1])})},setActive:function(t){this.dsPage=t}}},p={},A=b(C,R,E,!1,T,null,null,null);function T(e){for(var t in p)this[t]=p[t]}return function(){return A.exports}()});
//# sourceMappingURL=Dataset.min.js.map
